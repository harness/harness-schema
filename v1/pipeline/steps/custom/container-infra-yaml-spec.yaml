title: ContainerInfraYamlSpec
type: object
required:
- connector
- namespace
properties:
  annotations:
    oneOf:
    - type: object
      additionalProperties:
        type: string
    - type: string
  mount_service_token:
    oneOf:
    - type: boolean
    - type: string
      pattern: '^\<[^>]+\>$'
      minLength: 1
  connector:
    type: string
  security_context:
    oneOf:
    - $ref: ../../steps/custom/security-context.yaml
    - type: string
      pattern: '^\<[^>]+\>$'
      minLength: 1
  init_timeout:
    type: string
  labels:
    oneOf:
    - type: object
      additionalProperties:
        type: string
    - type: string
  namespace:
    type: string
    minLength: 1
    maxLength: 256
  node_selector:
    oneOf:
    - type: object
      additionalProperties:
        type: string
    - type: string
      pattern: '^\<[^>]+\>$'
      minLength: 1
#  This field is missing in Drone Schema - Confirm
#  os:
#    oneOf:
#    - type: string
#      enum:
#      - linux
#      - mac_os
#      - windows
#    - type: string
#      pattern: ^<\+input>((\.)((executionInput\(\))|(allowedValues|default|regex)\(.+?\)))*$
#      minLength: 1
  priority_class:
    type: string
  resources:
    $ref: ../../common/container-resource.yaml
#  This field is missing in Drone Schema - Confirm
#  runAsUser:
#    oneOf:
#    - type: integer
#      format: int32
#    - type: string
  service_account:
    type: string
  tolerations:
    oneOf:
    - type: array
      items:
        $ref: ../../steps/custom/toleration.yaml
    - type: string
      pattern: '^\<[^>]+\>$'
      minLength: 1
#  This field is missing in Drone Schema - Confirm
#  volumes:
#    oneOf:
#    - type: array
#      items:
#        $ref: container-volume.yaml
#    - type: string
#      pattern: ^<\+input>((\.)((executionInput\(\))|(allowedValues|default|regex)\(.+?\)))*$
#      minLength: 1
#  description:
#    desc: This is the description for ContainerInfraYamlSpec
$schema: http://json-schema.org/draft-07/schema#
