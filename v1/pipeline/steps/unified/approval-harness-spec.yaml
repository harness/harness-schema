title: UnifiedManualApprovalStepSpec
description: Harness manual approval step specification.
type: object
properties:
  message:
    description: Approval message. Supports expressions.
    type: string
    pattern: "(\\$\\{\\{.+\\}\\}|<\\+.+>.*)"
  callback:
    description: Callback ID for the approval. Supports expressions.
    type: string
    pattern: "(\\$\\{\\{.+\\}\\}|<\\+.+>.*)"
  user-groups:
    description: User groups for approval. Supports single value or array. Supports expressions.
    oneOf:
      - type: array
        items:
          type: string
      - type: string
        pattern: "(\\$\\{\\{.+\\}\\}|<\\+.+>.*)"
  service-accounts:
    description: Service accounts for approval. Supports single value or array. Supports expressions.
    oneOf:
      - type: array
        items:
          type: string
      - type: string
        pattern: "(\\$\\{\\{.+\\}\\}|<\\+.+>.*)"
  approvers-min-count:
    description: Minimum number of approvers required. Supports expressions.
    oneOf:
      - type: integer
      - type: string
        pattern: "(\\$\\{\\{.+\\}\\}|<\\+.+>.*)"
  block-executor:
    description: Block pipeline executor from approving. Supports expressions.
    oneOf:
      - type: boolean
      - type: string
        pattern: "(\\$\\{\\{.+\\}\\}|<\\+.+>.*)"
  execution-details:
    description: Include pipeline execution history.
    type: boolean
  auto-reject:
    description: Enable automatic rejection on timeout.
    type: boolean
  auto-approve:
    description: Enable automatic approval.
    type: boolean
  timezone:
    description: Timezone for auto-approval deadline. Supports expressions.
    type: string
    pattern: "(\\$\\{\\{.+\\}\\}|<\\+.+>.*)"
  deadline:
    description: Deadline for auto-approval. Supports expressions.
    type: string
    pattern: "(\\$\\{\\{.+\\}\\}|<\\+.+>.*)"
  comments:
    description: Comments for auto-approval. Supports expressions.
    type: string
    pattern: "(\\$\\{\\{.+\\}\\}|<\\+.+>.*)"
  params:
    description: Approver input parameters.
    type: array
    items:
      type: object
      additionalProperties: true
$schema: http://json-schema.org/draft-07/schema#

